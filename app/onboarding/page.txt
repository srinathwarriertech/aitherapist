import { AddForm } from "@/app/onboarding/add-form";
// import { DeleteForm } from "@/app/delete-form";
import { createClient } from '@supabase/supabase-js';

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;

if (!supabaseUrl || !supabaseAnonKey) {
  throw new Error('Missing Supabase environment variables');
}

const supabase = createClient(supabaseUrl, supabaseAnonKey);


export default async function Home() {
  

  const { data, error } = await supabase
  .from('notes')
  .select();

  let todos = data || [];

  return (
    <main>
      <h1 className="sr-only">Todos</h1>
      <AddForm />
      <ul>
        {todos.map((todo) => (
          <li key={todo.id}>
            {todo.title}
            {/* <DeleteForm id={todo.id} todo={todo.text} /> */}
          </li>
        ))}
      </ul>
    </main>
  );
}